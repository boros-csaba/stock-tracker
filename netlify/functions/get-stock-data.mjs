import fetch from 'node-fetch';

exports.handler = async (event) => {
    try {
        /*const response = await fetch('https://yfapi.net/v8/finance/spark?interval=1d&range=max&symbols=SXR8.DE%2CIUSN.DE%2CSXRV.DE', {
            method: 'GET',
            headers: { 
                'X-API-KEY': process.env.REACT_APP_FINANCE_API,
                'accept': 'application/json'
            }
        }).then(response => response.json());*/

        return {
            statusCode: 200,
            body: '{"IUSN.DE":{"symbol":"IUSN.DE","timestamp":[1524434400,1525039200,1525644000,1526248800,1526853600,1527458400,1528063200,1528668000,1529272800,1529877600,1530482400,1531087200,1531692000,1532296800,1532901600,1533506400,1534111200,1534716000,1535320800,1535925600,1536530400,1537135200,1537740000,1538344800,1538949600,1539554400,1540159200,1540767600,1541372400,1541977200,1542582000,1543186800,1543791600,1544396400,1545001200,1545606000,1546210800,1546815600,1547420400,1548025200,1548630000,1549234800,1549839600,1550444400,1551049200,1551654000,1552258800,1552863600,1553468400,1554069600,1554674400,1555279200,1555884000,1556488800,1557093600,1557698400,1558303200,1558908000,1559512800,1560117600,1560722400,1561327200,1561932000,1562536800,1563141600,1563746400,1564351200,1564956000,1565560800,1566165600,1566770400,1567375200,1567980000,1568584800,1569189600,1569794400,1570399200,1571004000,1571608800,1572217200,1572822000,1573426800,1574031600,1574636400,1575241200,1575846000,1576450800,1577055600,1577660400,1578265200,1578870000,1579474800,1580079600,1580684400,1581289200,1581894000,1582498800,1583103600,1583708400,1584313200,1584918000,1585519200,1586124000,1586728800,1587333600,1587938400,1588543200,1589148000,1589752800,1590357600,1590962400,1591567200,1592172000,1592776800,1593381600,1593986400,1594591200,1595196000,1595800800,1596405600,1597010400,1597615200,1598220000,1598824800,1599429600,1600034400,1600639200,1601244000,1601848800,1602453600,1603058400,1603666800,1604271600,1604876400,1605481200,1606086000,1606690800,1607295600,1607900400,1608505200,1609110000,1609714800,1610319600,1610924400,1611529200,1612134000,1612738800,1613343600,1613948400,1614553200,1615158000,1615762800,1616367600,1616968800,1617573600,1618178400,1618783200,1619388000,1619992800,1620597600,1621202400,1621807200,1622412000,1623016800,1623621600,1624226400,1624831200,1625436000,1626040800,1626645600,1627250400,1627855200,1628460000,1629064800,1629669600,1630274400,1630879200,1631484000,1632088800,1632693600,1633298400,1633903200,1634508000,1635112800,1635721200,1636326000,1636930800,1637535600,1638140400,1638745200,1639350000,1639954800,1640559600,1641164400,1641769200,1642374000,1642978800,1643583600,1644188400,1644793200,1645398000,1646002800,1646607600,1647212400,1647817200,1648418400,1648541055],"previousClose":null,"dataGranularity":300,"end":null,"start":null,"close":[4.232,4.31,4.427,4.493,4.523,4.531,4.543,4.582,4.587,4.498,4.499,4.551,4.549,4.565,4.561,4.638,4.595,4.61,4.648,4.59,4.609,4.587,4.595,4.503,4.282,4.319,4.136,4.292,4.345,4.21,4.177,4.265,4.118,4.065,3.794,3.841,3.922,4.054,4.196,4.201,4.233,4.248,4.439,4.445,4.44,4.353,4.448,4.375,4.449,4.551,4.541,4.543,4.609,4.614,4.453,4.497,4.388,4.325,4.373,4.431,4.477,4.466,4.574,4.568,4.56,4.64,4.494,4.429,4.404,4.4,4.481,4.543,4.651,4.672,4.628,4.529,4.61,4.585,4.673,4.695,4.784,4.799,4.781,4.859,4.89,4.863,4.984,4.961,4.938,4.958,5.042,5.017,4.841,5.002,5.123,5.069,4.378,4.235,3.453,3.237,3.463,3.349,3.796,3.78,3.792,4.022,4.069,3.901,4.112,4.202,4.53,4.195,4.367,4.22,4.287,4.269,4.338,4.305,4.22,4.402,4.45,4.416,4.451,4.357,4.355,4.44,4.335,4.462,4.653,4.688,4.625,4.447,4.667,4.859,4.941,5.045,5.081,5.097,5.207,5.25,5.221,5.449,5.521,5.527,5.42,5.731,5.822,5.788,5.674,5.602,6.005,6.004,5.949,6.014,6.014,6.077,6.033,6.058,6.049,5.92,5.925,6.017,6.061,6.157,6.077,6.219,6.227,6.175,6.058,6.135,6.154,6.239,6.255,6.121,6.319,6.356,6.302,6.29,6.343,6.261,6.323,6.459,6.456,6.499,6.735,6.737,6.713,6.393,6.295,6.411,6.357,6.505,6.541,6.443,6.317,6.13,5.928,5.96,6.143,6.045,6.048,6.024,6.048,6.246,6.286,6.26,6.315],"chartPreviousClose":4.227},"SXR8.DE":{"symbol":"SXR8.DE","timestamp":[1275343200,1277935200,1280613600,1283292000,1285884000,1288566000,1291158000,1293836400,1296514800,1298934000,1301608800,1304200800,1306879200,1309471200,1312149600,1314828000,1317420000,1320102000,1322694000,1325372400,1328050800,1330556400,1333231200,1335823200,1338501600,1341093600,1343772000,1346450400,1349042400,1351724400,1354316400,1356994800,1359673200,1362092400,1364767200,1367359200,1370037600,1372629600,1375308000,1377986400,1380578400,1383260400,1385852400,1388530800,1391209200,1393628400,1396303200,1398895200,1401573600,1404165600,1406844000,1409522400,1412114400,1414796400,1417388400,1420066800,1422745200,1425164400,1427839200,1430431200,1433109600,1435701600,1438380000,1441058400,1443650400,1446332400,1448924400,1451602800,1454281200,1456786800,1459461600,1462053600,1464732000,1467324000,1470002400,1472680800,1475272800,1477954800,1480546800,1483225200,1485903600,1488322800,1490997600,1493589600,1496268000,1498860000,1501538400,1504216800,1506808800,1509490800,1512082800,1514761200,1517439600,1519858800,1522533600,1525125600,1527804000,1530396000,1533074400,1535752800,1538344800,1541026800,1543618800,1546297200,1548975600,1551394800,1554069600,1556661600,1559340000,1561932000,1564610400,1567288800,1569880800,1572562800,1575154800,1577833200,1580511600,1583017200,1585692000,1588284000,1590962400,1593554400,1596232800,1598911200,1601503200,1604185200,1606777200,1609455600,1612134000,1614553200,1617228000,1619820000,1622498400,1625090400,1627768800,1630447200,1633039200,1635721200,1638313200,1640991600,1643670000,1646089200,1648541100],"previousClose":null,"dataGranularity":300,"end":null,"start":null,"close":[90.23,93.41,89.75,98.26,96.95,77.39,81.1,80.2,82.38,80.24,78.89,80.14,78.37,77.9,73.21,74.17,78.64,79.87,85.03,87.09,89.22,92.17,92.14,92.45,93.8,98.74,98.53,98.39,95.62,95.92,94.43,97.63,103.01,108.5,107.52,113.78,110.55,113.96,110.52,111.3,116.32,119.56,120.35,118.99,121.85,122.36,122.31,127.5,129.87,131.73,138.45,143.1,146.42,152.17,156.91,162.46,172.41,177.56,172.33,176.72,170.66,176.42,163.05,158.57,175.49,182.97,176.56,165,168,169.32,167.73,176.45,176.12,182.84,182.95,181.97,183.46,197.57,202.74,199.01,211.63,210.51,208.12,204.12,202.82,200.36,198.78,204.01,212.01,213.15,216.27,219.03,216.77,206.64,214.21,225.54,227.62,233.68,242.8,244.57,233.99,236.15,214,230.63,240.4,247.39,257.25,244.44,254.15,267.23,262.92,270.53,269.17,283.45,287.81,290.95,264.5,239.62,265.96,271.24,274.05,275.22,294.28,289.26,281.99,303.94,307.39,310.56,321.12,343.51,352.3,348.16,368,376.59,390.51,382.94,405.04,415.02,432.63,407,399.22,420.95,426.91],"chartPreviousClose":92.67},"SXRV.DE":{"symbol":"SXRV.DE","timestamp":[1275343200,1277935200,1280613600,1283292000,1285884000,1288566000,1291158000,1293836400,1296514800,1298934000,1301608800,1304200800,1306879200,1309471200,1312149600,1314828000,1317420000,1320102000,1322694000,1325372400,1328050800,1330556400,1333231200,1335823200,1338501600,1341093600,1343772000,1346450400,1349042400,1351724400,1354316400,1356994800,1359673200,1362092400,1364767200,1367359200,1370037600,1372629600,1375308000,1377986400,1380578400,1383260400,1385852400,1388530800,1391209200,1393628400,1396303200,1398895200,1401573600,1404165600,1406844000,1409522400,1412114400,1414796400,1417388400,1420066800,1422745200,1425164400,1427839200,1430431200,1433109600,1435701600,1438380000,1441058400,1443650400,1446332400,1448924400,1451602800,1454281200,1456786800,1459461600,1462053600,1464732000,1467324000,1470002400,1472680800,1475272800,1477954800,1480546800,1483225200,1485903600,1488322800,1490997600,1493589600,1496268000,1498860000,1501538400,1504216800,1506808800,1509490800,1512082800,1514761200,1517439600,1519858800,1522533600,1525125600,1527804000,1530396000,1533074400,1535752800,1538344800,1541026800,1543618800,1546297200,1548975600,1551394800,1554069600,1556661600,1559340000,1561932000,1564610400,1567288800,1569880800,1572562800,1575154800,1577833200,1580511600,1583017200,1585692000,1588284000,1590962400,1593554400,1596232800,1598911200,1601503200,1604185200,1606777200,1609455600,1612134000,1614553200,1617228000,1619820000,1622498400,1625090400,1627768800,1630447200,1633039200,1635721200,1638313200,1640991600,1643670000,1646089200,1648540387],"previousClose":null,"dataGranularity":300,"end":null,"start":null,"close":[93.61,97.94,93.73,104.89,112.19,85.83,88.69,87.78,90.07,86.86,85.75,86.58,84.69,87.48,77.01,86.08,90.23,90.32,93.77,99.69,104.4,109.97,109.35,108.4,109.19,114.72,117.52,116.11,108.6,109.74,105.97,107.47,112.61,117.41,116.96,125,120.36,125.38,125.24,128.06,134.49,138.4,140.2,140.38,145.43,141.12,139.08,148.29,152.38,158.1,168.3,174.82,179.59,189.73,192.44,200.99,216.01,221.01,216.59,223.82,214.88,227.2,209.52,203.47,231.36,241.56,234.53,213.9,214.8,216.22,206.3,222.67,217.42,232.94,235.15,238.76,241.86,252.64,257.89,259.92,277.78,281.07,282.49,284.25,274.13,276.15,278.1,279.57,296.14,295.49,298.65,310.1,314.35,294.6,306.6,333.2,337.7,343.85,366.95,366,343.05,339.65,307.7,336.2,348.95,366.55,386,360,376.6,400.8,390.9,397.65,405.45,428.85,439.7,457.7,426.1,408.25,461.05,476.55,504.1,514.7,568.2,550.4,535.1,572.7,591.3,603.1,606,630.7,651.4,630.9,693.4,710.6,745.4,721.5,769.4,808.7,823.9,742.7,719,753.9,771.5],"chartPreviousClose":97.84}}' //JSON.stringify(response)
        };
    }
    catch (error) {
        return {
            statusCode: 400,
            body: JSON.stringify({ error })
        };
    }
}